"use strict";(self.webpackChunkstaticdocs_starter=self.webpackChunkstaticdocs_starter||[]).push([[7207],{29976:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"erlang-error-index/w/W0032","title":"W0032 - maps:find/2 usage rather than dedicated syntax","description":"Warning","source":"@site/docs/erlang-error-index/w/W0032.md","sourceDirName":"erlang-error-index/w","slug":"/erlang-error-index/w/W0032","permalink":"/erlang-language-platform/docs/erlang-error-index/w/W0032","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":32,"frontMatter":{"sidebar_position":32},"sidebar":"tutorialSidebar","previous":{"title":"W0031 - maps:update/3 usage rather than dedicated syntax","permalink":"/erlang-language-platform/docs/erlang-error-index/w/W0031"},"next":{"title":"W0033 - lists:zip/2 and lists:seq usage rather than lists:enumerate","permalink":"/erlang-language-platform/docs/erlang-error-index/w/W0033"}}');var r=a(74848),s=a(28453);const i={sidebar_position:32},o="W0032 - maps:find/2 usage rather than dedicated syntax",d={},l=[{value:"Warning",id:"warning",level:2},{value:"Explanation",id:"explanation",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsxs)(n.h1,{id:"w0032---mapsfind2-usage-rather-than-dedicated-syntax",children:["W0032 - ",(0,r.jsx)(n.code,{children:"maps:find/2"})," usage rather than dedicated syntax"]})}),"\n",(0,r.jsx)(n.h2,{id:"warning",children:"Warning"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-erlang",children:"fn(Key, Found, NotFound, Map) ->\n    case maps:find(Key,Map) of\n        {ok, V} -> Found;\n        error -> NotFound\n    end.\n %% ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ud83d\udca1 warning: Unnecessary allocation of result tuple when the key is found.\n"})}),"\n",(0,r.jsx)(n.h2,{id:"explanation",children:"Explanation"}),"\n",(0,r.jsxs)(n.p,{children:["The warning message indicates that a map is being queried by key using the\n",(0,r.jsx)(n.code,{children:"maps:find/2"})," function call rather than the dedicated lookup syntax."]}),"\n",(0,r.jsxs)(n.p,{children:["Whilst this will correctly query for the value for the given key in the map,\nit is not considered idiomatic, and may be less efficient than using the map\nlookup syntax directly since it constructs an ",(0,r.jsx)(n.code,{children:"{ok,Value}"})," tuple if they key\nis found."]}),"\n",(0,r.jsxs)(n.p,{children:["To fix the issue, use the built-in ",(0,r.jsx)(n.code,{children:"#{Key := Value}"})," pattern syntax to match\nagainst the ",(0,r.jsx)(n.code,{children:"Map"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-erlang",children:"fn(Key, Found, NotFound, Map) ->\n    case Map of\n        #{Key := Value} -> Found;\n        #{} -> NotFound\n    end.\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var t=a(96540);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);