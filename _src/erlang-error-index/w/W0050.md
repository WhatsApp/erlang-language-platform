---
sidebar_position: 50
---

# W0050 - Avoid using the `size/1` BIF

## Warning

```erlang
-module(main).
-export([size/1]).

-type input() :: tuple() | binary().

-spec size(input()) -> non_neg_integer().
size(Input) ->
    erlang:size(Input).
%%  ^^^^^^^^^^^ ðŸ’¡ warning: Avoid using the `size/1` BIF
```

## Explanation

The [`size/1`](https://www.erlang.org/doc/apps/erts/erlang#size/1) BIF can be
used to return the size tuples, binaries and bitstrings.

However, this BIF is not optimized by the
[JIT](https://www.erlang.org/doc/apps/erts/beamasm.html); it may report
inaccurate values for bitstrings, and its use can result in worse types for
[dialyzer](https://www.erlang.org/doc/apps/dialyzer/dialyzer.html).

What to do instead:

- For tuples, use `tuple_size/1`.

- For binaries, use `byte_size/1`.

- For bitstrings, use `byte_size/1`, but please notice that while `byte_size/1`
  rounds _up_ to the nearest byte, `size/1` would round _down_:

```erlang
4 = byte_size(<<0:25>>).
3 = size(<<0:25>>).
```

For more information, see the Erlang
[common caveats](https://www.erlang.org/doc/system/commoncaveats.html#size-1).
